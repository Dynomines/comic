<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comic | Dynomines.dev</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        img { max-height: 70vh; width: auto; }
    </style>

    <!-- Graph tags -->
    <meta property="og:title" content="Comic | Dynomines.dev">
    <meta property="og:description" content="(Mostly) Weekly comics">
    <meta property="og:image" content="https://dynomines.dev/comic/3.png">
    <meta property="og:url" content="https://dynomines.dev/comic/">
    <meta property="og:type" content="website">
</head>
<body>
    <h1 id="comicTitle">Comic</h1>
    <img id="comic" src="" alt="Comic" title="Hover text here">
    <div>
        <button onclick="prevComic()">Previous</button>
        <button onclick="randomComic()">Random</button>
        <button onclick="nextComic()">Next</button>
    </div>
    <script>
        const totalComics = 3; // Adjust based on your total comic count
        let currentComic = 1;

        function getComicFromHash() {
            const hash = window.location.hash.slice(1); // Remove the '#'
            const comicID = parseInt(hash, 10);
            return (comicID >= 1 && comicID <= totalComics) ? comicID : totalComics;
        }

        function updateComic() {
            window.location.hash = `#${currentComic}`;
            document.getElementById("comic").src = `${currentComic}.png`;
            document.getElementById("comic").title = `Comic #${currentComic}`; // Hover text
            document.getElementById("comicTitle").innerHTML = `Comic #${currentComic}`;
        }

        function prevComic() {
            currentComic = Math.max(1, currentComic - 1);
            updateComic();
        }

        function nextComic() {
            currentComic = Math.min(totalComics, currentComic + 1);
            updateComic();
        }

        function randomComic() {
            let newComic;
            do {
                newComic = Math.floor(Math.random() * totalComics) + 1;
            } while (newComic === currentComic); // Ensure different comic
            currentComic = newComic;
            updateComic();
        }

        // Load comic from URL hash on page load
        window.onload = () => {
            currentComic = getComicFromHash();
            updateComic();
        };

        // Update comic when hash changes (e.g., user types a new hash)
        window.onhashchange = () => {
            currentComic = getComicFromHash();
            updateComic();
        };
    </script>
</body>
</html>
